<template>
  <div class="car-list-container pt-5 pb-5">
    <div class="container">
      <nav class="mb-0 pb-0 px-0 py-0">
        <ul class="breadcrumb">
          <li>
            <router-link to="/dashboard" class="main">My Account</router-link> /
            <router-link to="/dashboard" class="active"
              >Search by Vin or LOT</router-link
            >
          </li>
        </ul>
      </nav>

      <section class="search mt-5 mb-5">
        <div class="search-input position-relative flex-center">
          <input
            type="text"
            class="form-control"
            placeholder="Search by Vin or LOT"
            name=""
            id=""
            v-model="text"
            @input="search"
          />
          <span class="search-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
            >
              <path
                d="M14.6665 26.666C21.2939 26.666 26.6665 21.2934 26.6665 14.666C26.6665 8.0386 21.2939 2.66602 14.6665 2.66602C8.03909 2.66602 2.6665 8.0386 2.6665 14.666C2.6665 21.2934 8.03909 26.666 14.6665 26.666Z"
                stroke="#331F8E"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M25.2397 27.5858C25.9464 29.7191 27.5597 29.9324 28.7997 28.0658C29.9331 26.3591 29.1864 24.9591 27.1331 24.9591C25.6131 24.9458 24.7597 26.1324 25.2397 27.5858Z"
                stroke="#331F8E"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </span>
        </div>

        <section class="cars mt-5 mb-5" v-if="cars.length > 0">
            <h5 class="color fw-bold text-start">
                Search Result
            </h5>
            <div class="row w-100">
                <div class="col-md-6 mb-3"  v-for="car in cars" :key="car.id">
                    <carComponentVue :car="car"/>

                </div>
            </div>

        </section>
        <section class="empty mt-5 mb-5" v-else>
            <div class="empty-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="168" height="168" viewBox="0 0 168 168" fill="none">
                    <g clip-path="url(#clip0_360_9440)">
                        <path d="M164.815 118.352L153.61 84.3176C153.187 83.0343 151.804 82.3363 150.521 82.7587C149.237 83.1811 148.539 84.5642 148.962 85.8475L159.515 117.902C159.199 117.855 158.878 117.824 158.55 117.824H149.083L136.586 79.8621V54.8921H137.539C138.276 54.8921 138.926 55.3622 139.156 56.0619L145.186 74.379C145.525 75.4085 146.482 76.0612 147.51 76.0612C147.763 76.0612 148.021 76.0214 148.275 75.9379C149.559 75.5154 150.257 74.1324 149.834 72.8491L143.804 54.532C142.911 51.821 140.394 49.9995 137.54 49.9995H100.977C96.1655 46.8918 90.4378 45.0859 84.2958 45.0859C78.1538 45.0859 72.426 46.8918 67.6143 49.9995H31.0519C28.1976 49.9995 25.6804 51.821 24.7876 54.5323L3.77706 118.352C3.55752 119.019 3.44629 119.713 3.44629 120.414V137.841C3.44629 139.192 4.54167 140.288 5.89278 140.288C7.2439 140.288 8.33928 139.192 8.33928 137.841V124.419C8.33928 123.48 9.10291 122.716 10.0414 122.716H40.6718C41.3174 122.716 41.9179 123.091 42.2011 123.672L48.2201 135.996C49.3181 138.244 51.6442 139.696 54.1462 139.696H114.445C116.947 139.696 119.273 138.244 120.371 135.996L126.39 123.672C126.674 123.092 127.274 122.716 127.919 122.716H158.55C159.488 122.716 160.252 123.48 160.252 124.419V160.419C160.252 161.358 159.488 162.121 158.55 162.121H10.0414C9.10291 162.121 8.33928 161.358 8.33928 160.419V149.919C8.33928 148.568 7.2439 147.473 5.89278 147.473C4.54167 147.473 3.44629 148.568 3.44629 149.919V160.419C3.44629 164.056 6.40492 167.014 10.0414 167.014H158.55C162.187 167.014 165.145 164.056 165.145 160.419V120.414C165.145 119.713 165.034 119.019 164.815 118.352ZM131.693 75.1296C131.211 75.018 130.711 74.957 130.199 74.957H115.113C114.874 67.2163 111.769 60.1857 106.825 54.8921H131.693V75.1296ZM53.4787 74.9573H38.3924C37.8809 74.9573 37.3808 75.018 36.8984 75.1299V54.8925H61.7668C56.8229 60.186 53.7172 67.2166 53.4787 74.9573ZM9.07649 117.902L29.4352 56.0622C29.6655 55.3625 30.3153 54.8925 31.0519 54.8925H32.0054V79.8627L19.508 117.824H10.0414C9.7129 117.824 9.39258 117.856 9.07649 117.902ZM121.993 121.524L115.974 133.849C115.691 134.429 115.091 134.803 114.445 134.803H54.1465C53.5009 134.803 52.9007 134.429 52.6173 133.848L46.5982 121.524C45.5002 119.276 43.1741 117.824 40.6722 117.824H24.6597L36.776 81.0201C37.0063 80.3204 37.6561 79.8503 38.3927 79.8503H53.7159C54.4459 85.5024 56.7362 90.8925 60.3452 95.3379C64.7186 100.725 70.8374 104.517 77.5744 106.016C78.8933 106.308 80.2007 105.478 80.4939 104.159C80.7872 102.84 79.956 101.533 78.6369 101.239C72.9721 99.9791 67.825 96.7879 64.1442 92.2537C60.4115 87.6556 58.3554 81.8545 58.3554 75.9193C58.3554 61.6154 69.9923 49.9786 84.2958 49.9786C98.5993 49.9786 110.236 61.6154 110.236 75.9193C110.236 88.1126 101.59 98.7868 89.6784 101.3C88.3563 101.578 87.5105 102.876 87.7894 104.198C88.0324 105.35 89.0485 106.14 90.1807 106.14C90.3481 106.14 90.518 106.123 90.688 106.087C97.5029 104.65 103.702 100.877 108.144 95.4638C111.813 90.992 114.138 85.5568 114.875 79.8503H130.199C130.935 79.8503 131.585 80.3204 131.815 81.0201L143.932 117.824H127.919C125.418 117.824 123.092 119.276 121.993 121.524Z" fill="#CDC8CD"/>
                        <path d="M18.3747 155.725H27.3276C28.6787 155.725 29.7741 154.63 29.7741 153.279C29.7741 151.927 28.6787 150.832 27.3276 150.832H18.3747C17.0236 150.832 15.9282 151.927 15.9282 153.279C15.9282 154.63 17.0236 155.725 18.3747 155.725Z" fill="#CDC8CD"/>
                        <path d="M18.3747 148.082H27.3276C28.6787 148.082 29.7741 146.987 29.7741 145.636C29.7741 144.285 28.6787 143.189 27.3276 143.189H18.3747C17.0236 143.189 15.9282 144.285 15.9282 145.636C15.9282 146.987 17.0236 148.082 18.3747 148.082Z" fill="#CDC8CD"/>
                        <path d="M89.9369 86.815C90.6281 86.815 91.3151 86.5237 91.7989 85.9568C92.676 84.9293 92.554 83.3847 91.5265 82.5076C89.5093 80.7859 86.8305 79.8331 83.9831 79.8242C81.1406 79.8181 78.4514 80.7526 76.4241 82.4625C75.391 83.3335 75.2599 84.8771 76.1312 85.9098C77.0021 86.9429 78.5457 87.0744 79.5785 86.2028C80.699 85.2581 82.2895 84.7169 83.9456 84.7169H83.9685C85.6334 84.7221 87.2301 85.2731 88.35 86.2288C88.8106 86.6226 89.3752 86.815 89.9369 86.815Z" fill="#CDC8CD"/>
                        <path d="M70.82 70.6426H70.7909C69.4395 70.6511 68.3529 71.7246 68.3457 73.0757C68.3382 74.4268 69.4421 75.5281 70.7932 75.5356H70.8069C72.1518 75.5356 73.2459 74.449 73.2531 73.1024C73.2603 71.7513 72.1711 70.6501 70.82 70.6426Z" fill="#CDC8CD"/>
                        <path d="M97.5605 75.5219C97.5787 75.5238 97.5977 75.5235 97.6159 75.5251C97.6759 75.53 97.7356 75.5349 97.797 75.5352H97.8107H97.8139C97.8159 75.5352 97.8175 75.5349 97.8195 75.5349C97.9007 75.5346 97.9809 75.5307 98.0602 75.5228C99.2958 75.3992 100.26 74.3567 100.26 73.0887C100.26 71.7614 99.2026 70.6834 97.8844 70.6458C97.8642 70.6452 97.8443 70.6426 97.8237 70.6426H97.8162C97.8156 70.6426 97.8146 70.6426 97.8139 70.6426H97.7947H97.7842C97.7833 70.6426 97.782 70.6426 97.781 70.6426C96.4364 70.6426 95.3567 71.7291 95.3492 73.0757C95.3423 74.3466 96.3193 75.396 97.5605 75.5219Z" fill="#CDC8CD"/>
                        <path d="M62.2102 11.5914C62.6878 12.0693 63.3141 12.3081 63.9401 12.3081C64.566 12.3081 65.1923 12.0693 65.6699 11.5914L67.6476 9.61367L69.6254 11.5914C70.1029 12.069 70.7292 12.3081 71.3552 12.3081C71.9812 12.3081 72.6075 12.0693 73.0851 11.5914C74.0405 10.636 74.0405 9.08685 73.0851 8.13174L71.1073 6.154L73.0851 4.17625C74.0405 3.22081 74.0405 1.67169 73.0851 0.716578C72.13 -0.238859 70.5808 -0.238859 69.6254 0.716578L67.6476 2.69433L65.6699 0.716578C64.7145 -0.238859 63.1653 -0.238859 62.2102 0.716578C61.2548 1.67202 61.2548 3.22114 62.2102 4.17625L64.188 6.154L62.2102 8.13174C61.2548 9.08718 61.2548 10.6363 62.2102 11.5914Z" fill="#CDC8CD"/>
                        <path d="M44.7791 37.1093C50.9387 37.1093 55.9498 32.0982 55.9498 25.9383C55.9498 19.7787 50.9387 14.7676 44.7791 14.7676C38.6195 14.7676 33.6084 19.7787 33.6084 25.9383C33.6084 32.0982 38.6198 37.1093 44.7791 37.1093ZM44.7791 19.6609C48.2407 19.6609 51.0568 22.477 51.0568 25.9386C51.0568 29.4002 48.2407 32.2166 44.7791 32.2166C41.3175 32.2166 38.5014 29.4006 38.5014 25.9386C38.5014 22.477 41.3178 19.6609 44.7791 19.6609Z" fill="#CDC8CD"/>
                        <path d="M117.544 35.5992C118.021 36.0768 118.648 36.3159 119.274 36.3159C119.9 36.3159 120.526 36.0771 121.003 35.5992L122.981 33.6215L124.959 35.5992C125.436 36.0768 126.063 36.3159 126.689 36.3159C127.315 36.3159 127.941 36.0771 128.419 35.5992C129.374 34.6438 129.374 33.0947 128.419 32.1396L126.441 30.1618L128.419 28.1841C129.374 27.2286 129.374 25.6795 128.419 24.7244C127.463 23.769 125.914 23.769 124.959 24.7244L122.981 26.7021L121.003 24.7244C120.048 23.769 118.499 23.769 117.544 24.7244C116.588 25.6798 116.588 27.229 117.544 28.1841L119.521 30.1618L117.544 32.1396C116.588 33.095 116.588 34.6441 117.544 35.5992Z" fill="#CDC8CD"/>
                        <path d="M84.1615 35.2288H84.169C85.5165 35.2288 86.6113 34.1383 86.6155 32.7895L86.637 25.5045C86.6409 24.1533 85.5492 23.0547 84.1977 23.0508C84.1951 23.0508 84.1928 23.0508 84.1902 23.0508C82.8427 23.0508 81.7479 24.1413 81.7437 25.4901L81.7222 32.7751C81.7183 34.1259 82.8104 35.2245 84.1615 35.2288Z" fill="#CDC8CD"/>
                        <path d="M68.2618 27.4692C67.1029 28.1634 66.7261 29.6659 67.4203 30.8252L71.2055 37.145C71.6641 37.9105 72.4747 38.3346 73.3065 38.3346C73.7342 38.3346 74.1677 38.2224 74.5614 37.9865C75.7204 37.2924 76.0972 35.7899 75.403 34.6306L71.6178 28.3108C70.9233 27.1518 69.4208 26.7747 68.2618 27.4692Z" fill="#CDC8CD"/>
                        <path d="M93.7448 38.0792C94.1414 38.32 94.5795 38.4345 95.0117 38.4345C95.8386 38.4345 96.6453 38.0153 97.1056 37.2572L100.929 30.9583C101.63 29.8032 101.262 28.2985 100.107 27.5975C98.9512 26.8968 97.4468 27.2644 96.7458 28.4195L92.9227 34.7184C92.2217 35.8735 92.59 37.3782 93.7448 38.0792Z" fill="#CDC8CD"/>
                        <path d="M106.627 21.8522C111.798 21.8522 116.004 17.6458 116.004 12.4759C116.004 7.30595 111.798 3.09961 106.627 3.09961C101.457 3.09961 97.251 7.30595 97.251 12.4759C97.251 17.6458 101.457 21.8522 106.627 21.8522ZM106.627 7.9926C109.1 7.9926 111.111 10.0039 111.111 12.4759C111.111 14.9478 109.099 16.9592 106.627 16.9592C104.155 16.9592 102.144 14.9478 102.144 12.4759C102.144 10.0039 104.155 7.9926 106.627 7.9926Z" fill="#CDC8CD"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_360_9440">
                        <rect width="167.014" height="167.014" fill="white" transform="translate(0.788574)"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>

            <div>
                <h6 class="empty-text mt-5 mb-4">
                    There is no data currently, search for cars to appear
                </h6>
            </div>
        </section>
      </section>
    </div>
  </div>
  <Toast />
</template>

<script>
// import axios from "axios";
// import Pagination from './PaginationComponent.vue';
import Toast from "primevue/toast";
import axios from 'axios';
import carComponentVue from '../shared/carToDetail.vue';

// import Skeleton from "primevue/skeleton";
// import Message from 'primevue/message';

export default {
  components: {
    Toast,
    carComponentVue
    // Skeleton,
    // Message
  },
  data() {
    return {
      isDataGet: false,
      text : '',
      cars : []
    };
  },
  methods: {
    async search(){
        await axios.get(`search-cars?search=${this.text}`, {
            headers:{
                Authorization : `Bearer ${localStorage.getItem('token')}`
            }
        })
        .then( (res)=>{
            this.cars  = res.data.data.data ;
        } )
    }
  },
};
</script>


<style lang="scss">
.empty-text{
    color:  #979797;
text-align: center;
font-family: Poppins;
font-size: 16px;
font-style: normal;
font-weight: 400;
line-height: normal;

}
.search-input {
  input {
    width: 50%;
    margin: auto;
    height: 60px;
  }
  .search-icon {
    position: absolute;
    top: 28%;
    left: 71%;
  }
}
.single-shipping {
  position: relative;
  background-color: #fff;
  border-radius: 10px;
  border: 1px solid rgba(219, 217, 217, 0.87);
  width: 70%;
  margin: auto;
  .list-image-shipping {
    height: 100%;
    width: 60%;
    margin: auto;
    border-radius: 10px;
    border: 1px solid rgba(219, 217, 217, 0.87);
    img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  }
}

.breadcrumb {
  a {
    text-decoration: none;
  }
  .main {
    color: #979797;
    font-family: Poppins;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 16px; /* 133.333% */
  }
  .active {
    color: #331f8e;
    font-family: Poppins;
    font-size: 14px;
    font-style: normal;
    font-weight: 700;
    line-height: 16px; /* 133.333% */
  }
}
</style>
